<!doctype html><html lang='en'><head><title>How to control midi events using patterns | SuperCollider 3.14.0-rc1 Help</title>
<link rel='stylesheet' href='./../static/scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../static/codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../static/editor.css' type='text/css' />
<link rel='stylesheet' id='scdoc-theme' href='./../static/themes/default.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<link rel='stylesheet' href='./../static/lib/katex/katex.min.css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../static/lib/jquery.min.js'></script>
<script src='./../static/lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../static/lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script defer src='./../static/lib/katex/katex.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'How to control midi events using patterns';
var scdoc_sc_version = '3.14.0-rc1';
</script>
<script src='./../static/scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../frontend.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>How to control midi events using patterns:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#\noteOn%20and%20\noteOff'>\noteOn and \noteOff</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#control%20change'>control change</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#\polyTouch'>\polyTouch</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#\program'>\program</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#\touch'>\touch</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#\bend'>\bend</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#\sysex'>\sysex</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Overviews</span>
 | <span id='categories'><a href='./../Browse.html#External Control'>External Control</a>&#8201;&gt;&#8201;<a href='./../Browse.html#External Control>MIDI'>MIDI</a> | <a href='./../Browse.html#Streams-Patterns-Events'>Streams-Patterns-Events</a></span>
</div><h1>How to control midi events using patterns</h1>
<div id='summary'>An overview of midi commands and how to use them with Pbind, etc.</div>
</div>
<div class='subheader'>
</div>

<p>This document is a brief overview of some commonly used midi commands available in the midievent part of <a href="./../Classes/Event.html">Event</a> and which arguments they offer.
<p>To use them in a event pattern such as <a href="./../Classes/Pbind.html">Pbind</a>, you need to first initialise a midi out device.<div class='codeMirrorContainer'><textarea class='editor'>// This posts a list of available midi devices
// Note their names and bus names and use them in the next step
MIDIClient.init;

// Initialise a midi out using the name and bus name (see above)
// As an example:
m = MIDIOut.newByName("IAC Driver", "Bus 1");</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>

<p>In the examples below, it is assumed that you have initialised a midi out.<div class='note'><span class='notelabel'>NOTE:</span> All midi numbers in SuperCollider are 0-indexed. That is, what on most devices is called "midi channel 1" is actually midi channel 0 in SuperCollider and vice-versa.</div>
<p>Now, to use it in a Pbind:<div class='codeMirrorContainer'><textarea class='editor'>p = Pbind(
    // These keys are common to all midi commands
    \type, \midi,
    \midiout, m,
    \midicmd, \noteOn, // Choose which command to use

    \chan, 0,
    // degree is converted to midinote, not just frequency
    \degree, Pwhite(-7, 12, inf),
    \dur, Pwrand([0.25, Pn(0.125, 2)], #[0.8, 0.2], inf),
    \legato, sin(Ptime(inf) * 0.5).linexp(-1, 1, 1/3, 3),
    \amp, Pexprand(0.5, 1.0, inf)
).play(quant: 1);
)

p.stop;</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
<h2><a class='anchor' name='\noteOn%20and%20\noteOff'>\noteOn and \noteOff</a></h2>

<p>The most common midi commands are \noteOn and \noteOff. They are used to play notes. \noteOff is automatically transmitted after the note duration when you use the \noteOn command.<div class='codeMirrorContainer'><textarea class='editor'>p = Pbind(
    // These keys are common to all midi commands
    \type, \midi,
    \midiout, m,
    \midicmd, \noteOn, // Choose which command to use

    \chan, 0,
    // degree is converted to midinote, not just frequency
    \degree, Pwhite(-7, 12, inf),
    \dur, Pseq([1,2,0.5], inf),
    // amp is converted to velocity
    \amp, Pexprand(0.5, 1.0, inf)
).play(quant: 1);
)

p.stop;</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
<h2><a class='anchor' name='control%20change'>control change</a></h2>

<p>Send control change messages.<div class='codeMirrorContainer'><textarea class='editor'>p = Pbind(
    // These keys are common to all midi commands
    \type, \midi,
    \midiout, m,
    \midicmd, \control,

    \chan, 0,
    \ctlNum, 0, // cc number
    \control, Pwhite(0, 127, inf), // cc value
    \dur, Pseq([1,2,0.5], inf),

).play(quant: 1);
)

p.stop;</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
<h2><a class='anchor' name='\polyTouch'>\polyTouch</a></h2>
<div class='codeMirrorContainer'><textarea class='editor'>p = Pbind(
    // These keys are common to all midi commands
    \type, \midi,
    \midiout, m,
    \midicmd, \polyTouch,

    \chan, 0,
    \midinote, Pwhite(0, 127, inf), // note number
    \polyTouch, Pwhite(0, 127, inf), // pressure value
    \dur, Pseq([1,2,0.5], inf),

).play(quant: 1);
)</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
<h2><a class='anchor' name='\program'>\program</a></h2>
<div class='codeMirrorContainer'><textarea class='editor'>p = Pbind(
    // These keys are common to all midi commands
    \type, \midi,
    \midiout, m,
    \midicmd, \program,

    \chan, 0,
    \progNum, Pwhite(0, 127, inf), // program number
    \dur, Pseq([1,2,0.5], inf),

).play(quant: 1);
)</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
<h2><a class='anchor' name='\touch'>\touch</a></h2>

<p>Emit after touch messages.<div class='codeMirrorContainer'><textarea class='editor'>p = Pbind(
    // These keys are common to all midi commands
    \type, \midi,
    \midiout, m,
    \midicmd, \touch,

    \chan, 0,
    \touch, Pwhite(0, 127, inf), // pressure value
    \dur, Pseq([1,2,0.5], inf),

).play(quant: 1);
)</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
<h2><a class='anchor' name='\bend'>\bend</a></h2>
<div class='codeMirrorContainer'><textarea class='editor'>p = Pbind(
    // These keys are common to all midi commands
    \type, \midi,
    \midiout, m,
    \midicmd, \bend,

    \chan, 0,
    \bend, Pwhite(0, 8191, inf), // bend value
    \dur, Pseq([1,2,0.5], inf),

).play(quant: 1);
)</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
<h2><a class='anchor' name='\sysex'>\sysex</a></h2>

<p>Send a sysex message.<div class='codeMirrorContainer'><textarea class='editor'>p = Pbind(
    // These keys are common to all midi commands
    \type, \midi,
    \midiout, m,
    \midicmd, \sysex,

    \sysex, Int8Array[0xF0, 0x7D, 0x00, 0x00, 0x04, 0x01, 0x60, 0x00, 0xF7], // sysex message
    \dur, 8,

).play(quant: 1);
)</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>

<p><div class='doclink'>helpfile source: <a href='https://github.com/supercollider/supercollider/tree/3.14/HelpSource/Overviews/MidiPatterns.schelp'>https://github.com/supercollider/supercollider/tree/3.14/HelpSource/Overviews/MidiPatterns.schelp</a><br>link::Overviews/MidiPatterns::<br></div></div><script src='./../static/editor.js' type='text/javascript'></script>
</body></html>