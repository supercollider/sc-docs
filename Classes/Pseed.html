<!doctype html><html lang='en'><head><title>Pseed | SuperCollider 3.13.0 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'Pseed';
var scdoc_sc_version = '3.13.0';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>Pseed:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented%20instance%20methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-embedInStream'>embedInStream</a> </li>
<li class='toc3'><a href='#-randSeed'>randSeed</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#Streams-Patterns-Events'>Streams-Patterns-Events</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Streams-Patterns-Events>Patterns'>Patterns</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Streams-Patterns-Events>Patterns>Language Control'>Language Control</a></span>
</div><h1>Pseed<span id='superclasses'> : <a href="../Classes/FilterPattern.html">FilterPattern</a> : <a href="../Classes/Pattern.html">Pattern</a> : <a href="../Classes/AbstractFunction.html">AbstractFunction</a> : <a href="../Classes/Object.html">Object</a></span>
</h1>
<div id='summary'>set the random seed in subpattern</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='https://github.com/supercollider/supercollider/tree/3.13/SCClassLibrary/Common/Streams/Pseed.sc' title='/usr/local/share/SuperCollider/SCClassLibrary/Common/Streams/Pseed.sc'>Pseed.sc</a></div><div id='related'>See also: <a href="./../Reference/randomSeed.html">Random Seed</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>Set the random generator seed of the resulting stream.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>Pseed.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>randSeed</span>, <span class='argstr'>pattern</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>randSeed<td class='argumentdesc'>
<p>integer number, pattern or stream that returns an integer number.<div class='note'><span class='notelabel'>NOTE:</span> randSeed is always treated as a pattern/stream. If you provide a single, constant seed value, it will behave as an infinite-length stream. This will cause the subpattern to be embedded an infinite number of times. Compare:<textarea class='editor'>// Pwhite repeats its three values forever
Pseed(1000, Pwhite(1, 10, 3)).asStream.nextN(10);

// Pwhite runs once:
// the output stream consists of three values, then 'nil' ad infinitum
Pseed(Pn(1000, 1), Pwhite(1, 10, 3)).asStream.nextN(10);</textarea>
</div><tr><td class='argumentname'>pattern<td class='argumentdesc'></table></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented%20instance%20methods'>Undocumented instance methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-embedInStream' href='./../Overviews/Methods.html#embedInStream'>embedInStream</a>(<span class='argstr'>inval</span>)</h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-randSeed' href='./../Overviews/Methods.html#randSeed'>randSeed</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-randSeed' href='./../Overviews/Methods.html#randSeed'>randSeed</a> = value</h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<textarea class='editor'>a = Pseed(1972, Prand([1,2,3], inf));

b = a.asStream;
10.do({ b.next.post });

c = a.asStream;
10.do({ c.next.post });


// using a seed pattern as input:

a = Pseed(Pseq([1812, 1912], inf), Prand([1,2,3], 5));

b = a.asStream;
2.do({ 5.do({ b.next.post });"".postln;  });

c = a.asStream;
2.do({ 5.do({ c.next.post });"".postln;  });


// outer thread is independant:

a = Pseed(Prand([1534, 1600, 1798, 1986, 2005], inf), Pshuf([1, Prand([7, 9], 2), 1, 2, 3], 1));

// returns random streams
b = a.asStream;
2.do({ 5.do({ b.next.post });"".postln;  });

c = a.asStream;
2.do({ 5.do({ c.next.post });"".postln;  });


// Some examples of how Pseed can be used in music.
(
SynthDef.new(\varsaw, {
    arg dur, attack=0.01, release=1.0,
    t_gate=1, out, freq=442, cutoff=5500,
    rq=1, pan=0.0, amp=0.5, width=0.1;

    var env = EnvGen.kr(Env.perc(attack, release), t_gate, timeScale: dur, doneAction: 2);
    var sig = VarSaw.ar(freq: freq, mul: env, width: width);
    sig = RLPF.ar(sig, cutoff.clip(20.0, 20000.0), rq.clip(0.0,1.0));
    sig = Pan2.ar(sig, pan);
    Out.ar(out, sig * amp);
}).add;
)

(
Pdef(\varsawPat,
    Pseed(490, // This number is the seed.
        Pbind(*[
            instrument: \varsaw,
            attack: Plprand(0.01, 1.0),
            release: Pwrand([0.5, 8], [8, 1].normalizeSum, inf),
            dur: 1 / Pstutter(Phprand(5, 11), Plprand(5, 11)),
            freq: 100 * Plprand(1, 9),
            width: Phprand(0.0, 0.5),
            cutoff: Phprand(20, 5500),
            pan: Pmeanrand(-1.0, 1.0),
        ])
    )
).play
)

// Reevaluate the above pattern to hear the same start. An infinity of variations unfold from a single number.
// Change the seed for another infinite deterministic stream of choices.


(
SynthDef(\drum, {|out, dur, t_gate =1, pew=1, sustain=1, pan, fed=0, tun, amp = 1 |
    var env, freq, sig;
    tun = ((tun&gt;0)*tun) + ((tun&lt;1)*3);
    freq = (tun*10).midicps;
    env = EnvGen.ar(Env.linen(0.01, 0, 1, 1, -3), t_gate, timeScale: dur , doneAction: 2);
    sig = LPF.ar(SinOscFB.ar(XLine.ar(freq.expexp(10, 2000, 1000, 8000), freq, 0.025/pew), fed), 9000);
    sig = Pan2.ar(sig, pan);
    Out.ar(out, sig * amp);
}).add
)

(
Pdef(\drumPat,
    Pseed(9223372036854775807, // This is the highest 64 bit number.
        Psync(
            Pbind(*[
                instrument: \drum,
                tun: Pstutter(Plprand(4, 8), Plprand(0.0, 8.0).round(1/8)),
                amp: Plprand(-7.5.dbamp, -1.5.dbamp),
                dur: 1 / Pstutter(Phprand(5, 11), Pwhite(5, 11)),
                legato: Plprand(0.75, 4.0),
                pan: Prand([Phprand(0.0, 0.5, 1), Plprand(0.5, 1.0, 1)], inf),
                //pew: 0.4,
                //pew: Phprand(0.4, 10.0),
            ]), 1, 2.0, // Loop length is the second number here.
        )
    )
).play(quant:1);
)

/*
When Pseed wraps around a whole pattern like in the above example the values are being generated for the parameters from top to bottom.
Uncommenting the static pew value does not change the pattern but uncommenting the line below with the stochastic choice does.
The pew parameter is now receiving the value that would have gone to the tun parameter and so this alternate timeline diverges more and more
as time passes.
*/

(
Pdef(\varsawPat,
    Pbind(*[
        instrument: \varsaw,
        attack: Plprand(0.01, 1.0),
        release: Pwrand([0.5, 8], [8, 1].normalizeSum, inf),
        dur: 1 / Pseed(490, Pstutter(Phprand(5, 11), Plprand(5, 11))), // Pseed used on a single parameter.
        amp: Plprand(-18.dbamp, -12.dbamp),
        freq: 100 * Plprand(1, 9),
        width: Plprand(0.0, 0.5),
        cutoff: Phprand(20, 5500),
        pan: -1,
    ])
).play(quant: 1);

Pdef(\drumPat,
    Pbind(*[
        instrument: \drum,
        tun: Pstutter(Plprand(4, 8), Plprand(0.0, 8.0).round(1/8)),
        fed: Plprand(0.0, 1.0),
        amp: Plprand(-18.dbamp, -12.dbamp),
        dur: 1 / Pseed(490, Pstutter(Phprand(5, 11), Plprand(5, 11))), // Same seed, same rhythm.
        legato: Plprand(0.75, 4.0),
        pan: 1,
    ])
).play(quant:1);
)

/*
In the above example Pseed is used as a kind of "data sharing" strategy. The two patterns aren't actually sharing data. They are both
using the same seed to generate all future stochastic choices for the dur parameter.
All other parameters in the two patterns are unaffected.
*/</textarea>

<p><div class='doclink'>helpfile source: <a href='https://github.com/supercollider/supercollider/tree/3.13/HelpSource/Classes/Pseed.schelp'>https://github.com/supercollider/supercollider/tree/3.13/HelpSource/Classes/Pseed.schelp</a><br>link::Classes/Pseed::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>