<!doctype html><html lang='en'><head><title>TextView | SuperCollider 3.14.0-rc1 Help</title>
<link rel='stylesheet' href='./../static/scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../static/codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../static/editor.css' type='text/css' />
<link rel='stylesheet' id='scdoc-theme' href='./../static/themes/default.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<link rel='stylesheet' href='./../static/lib/katex/katex.min.css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../static/lib/jquery.min.js'></script>
<script src='./../static/lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../static/lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script defer src='./../static/lib/katex/katex.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'TextView';
var scdoc_sc_version = '3.14.0-rc1';
</script>
<script src='./../static/scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../frontend.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>TextView:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Text%20and%20Formatting'>Text and Formatting</a></li>
<ul class='toc'><li class='toc3'><a href='#-open'>open</a> </li>
<li class='toc3'><a href='#-string'>string</a> </li>
<li class='toc3'><a href='#-setString'>setString</a> </li>
<li class='toc3'><a href='#-currentLine'>currentLine</a> </li>
</ul><li class='toc2'><a href='#Formatting'>Formatting</a></li>
<ul class='toc'><li class='toc3'><a href='#-setFont'>setFont</a> </li>
<li class='toc3'><a href='#-setStringColor'>setStringColor</a> </li>
<li class='toc3'><a href='#-syntaxColorize'>syntaxColorize</a> </li>
</ul><li class='toc2'><a href='#Text%20Selection'>Text Selection</a></li>
<ul class='toc'><li class='toc3'><a href='#-selectedString'>selectedString</a> </li>
<li class='toc3'><a href='#-selectionStart'>selectionStart</a> </li>
<li class='toc3'><a href='#-selectionSize'>selectionSize</a> </li>
<li class='toc3'><a href='#-select'>select</a> </li>
</ul><li class='toc2'><a href='#Appearance'>Appearance</a></li>
<ul class='toc'><li class='toc3'><a href='#-font'>font</a> </li>
<li class='toc3'><a href='#-stringColor'>stringColor</a> </li>
<li class='toc3'><a href='#-tabWidth'>tabWidth</a> </li>
</ul><li class='toc2'><a href='#Interaction'>Interaction</a></li>
<ul class='toc'><li class='toc3'><a href='#-editable'>editable</a> </li>
<li class='toc3'><a href='#-enterInterpretsSelection'>enterInterpretsSelection</a> </li>
<li class='toc3'><a href='#-usesTabToFocusNextView'>usesTabToFocusNextView</a> </li>
<li class='toc3'><a href='#-hasHorizontalScroller'>hasHorizontalScroller</a> </li>
<li class='toc3'><a href='#-hasVerticalScroller'>hasVerticalScroller</a> </li>
<li class='toc3'><a href='#-autohidesScrollers'>autohidesScrollers</a> </li>
</ul><li class='toc2'><a href='#Drag%20and%20Drop'>Drag and Drop</a></li>
<ul class='toc'><li class='toc3'><a href='#-defaultGetDrag'>defaultGetDrag</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes</span>
 | <span id='categories'><a href='./../Browse.html#GUI'>GUI</a>&#8201;&gt;&#8201;<a href='./../Browse.html#GUI>Views'>Views</a></span>
</div><h1>TextView</h1>
<div id='summary'>A view displaying editable formatted text</div>
</div>
<div class='subheader'>
<div id='filename'>Location: <b>NOT INSTALLED!</b></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>TextView consists of an area where <strong>multi-line text</strong> can be typed in and edited.
<p>Using the view's methods, the text can be formatted: different <strong>font</strong> and <strong>text color</strong> can be applied to parts of the text. Text can also be inserted, removed, and selected programmatically.
<p>The view can <strong>open text documents</strong> and load from them both <strong>plain text</strong>, as well as formatted text in <strong>HTML</strong>, although it can not save the text back to files. However, you can get the contents of the view using the <a href="#-string">-string</a> method and then implement saving on your own, but the -string method will only return plain text, regardless of how the contents of the view are formatted.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Text%20and%20Formatting'>Text and Formatting</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-open' href='./../Overviews/Methods.html#open'>open</a></h3>
<div class='method'>
<p> Opens a file at <code>path</code> and loads text from it.
<p> The file can be in plain text or HTML (or RTF, in Cocoa GUI) format. Note however that saving formatted text in the view is not supported.
<p> If loading the text from the file succeeds, it will replace any current contents of the view.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>path<td class='argumentdesc'>
<p> A String.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-string' href='./../Overviews/Methods.html#string'>string</a></h3>
<div class='method'>
<p> The entire displayed contents of the view, as plain text.
<p> Setting this variable will replace any current contents of the view.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A String.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setString' href='./../Overviews/Methods.html#setString'>setString</a></h3>
<div class='method'>
<p> Inserts the <code>string</code> at <code>start</code> position, replacing <code>size</code> amount of following characters. If <code>size</code> is 0, the text will be inserted without any characters being removed.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>string<td class='argumentdesc'>
<p> A String - the text to insert.<tr><td class='argumentname'>start<td class='argumentdesc'>
<p> An Integer position within the text, in characters.<tr><td class='argumentname'>size<td class='argumentdesc'>
<p> An Integer amount of characters to be replaced.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-currentLine' href='./../Overviews/Methods.html#currentLine'>currentLine</a></h3>
<div class='method'>
<p> The plain text of the line at text cursor.</div><h3><a class='anchor' name='Formatting'>Formatting</a></h3>

<p>TextView supports text font and color, and can syntax colorize sclang code.<div class='note'><span class='notelabel'>NOTE:</span> The formatting is reset when the string changes.</div><div class='codeMirrorContainer'><textarea class='editor'>(
var text = "Tous ces nombres paraissent bien concrets";
t = TextView(bounds: Rect(300, 400));
t.string = text;
t.front;
fork {
    loop {
        2.0.rand.wait;
        defer {
            t.setFont(Font("Times", rrand(12, 48)), rand(text.size - 1), rrand(3, 17));
            t.setStringColor(Color.rand, rand(text.size - 1), rrand(3, 17));

        }
    }
};
)</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setFont' href='./../Overviews/Methods.html#setFont'>setFont</a></h3>
<div class='method'>
<p> Applies the <code>font</code> to <code>size</code> amount of characters following the <code>start</code> position.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>font<td class='argumentdesc'>
<p> A Font to apply to the desired range of text.<tr><td class='argumentname'>start<td class='argumentdesc'>
<p> An Integer position within the text, in characters.<tr><td class='argumentname'>size<td class='argumentdesc'>
<p> An Integer amount of characters.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setStringColor' href='./../Overviews/Methods.html#setStringColor'>setStringColor</a></h3>
<div class='method'>
<p> Applies the <code>color</code> to <code>size</code> amount of characters following the <code>start</code> position.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>color<td class='argumentdesc'>
<p> A Color to apply to the desired range of text.<tr><td class='argumentname'>start<td class='argumentdesc'>
<p> An Integer position within the text, in characters.<tr><td class='argumentname'>size<td class='argumentdesc'>
<p> An Integer amount of characters.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-syntaxColorize' href='./../Overviews/Methods.html#syntaxColorize'>syntaxColorize</a></h3>
<div class='method'>
<p> Applies colors to text throughout the entire contents of the view, according to the SuperCollider language syntax highlighting scheme.<div class='codeMirrorContainer'><textarea class='editor'>(
t = TextView(bounds: Rect(300, 400));
t.string = this.cmdLine;
t.syntaxColorize;
t.front;
)</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
</div><h3><a class='anchor' name='Text%20Selection'>Text Selection</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectedString' href='./../Overviews/Methods.html#selectedString'>selectedString</a></h3>
<div class='method'>
<p> The plain text contained in the current selection.
<p> When getting this variable and there is no selection, the entire line at text cursor is returned (equivalent to <a href="#-currentLine">-currentLine</a>).
<p> Setting this variable will replace text in the selection with the argument, or do nothing if there is no selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A String.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>A String.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectionStart' href='./../Overviews/Methods.html#selectionStart'>selectionStart</a></h3>
<div class='method'>
<p> The starting position of the selection. If no text is selected this variable represents the cursor position.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An Integer position within the text, in characters.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-selectionSize' href='./../Overviews/Methods.html#selectionSize'>selectionSize</a></h3>
<div class='method'>
<p> The size of the current selection.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An Integer amount of characters - 0 if no text is selected.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-select' href='./../Overviews/Methods.html#select'>select</a></h3>
<div class='method'>
<p><div class='note'><span class='notelabel'>NOTE:</span> Not available in <strong>Cocoa GUI</strong>.</div>
<p> Selects <code>size</code> amount of characters following the <code>start</code> position. The cursor will remain at the end of the new selection.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>start<td class='argumentdesc'>
<p> An Integer position within the text, in characters.<tr><td class='argumentname'>size<td class='argumentdesc'>
<p> An Integer amount of characters.</table></div><h3><a class='anchor' name='Appearance'>Appearance</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-font' href='./../Overviews/Methods.html#font'>font</a></h3>
<div class='method'>
<p> The default font of the entire text. This font applies to any text to which a font has not been applied using <a href="#-setFont">-setFont</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A Font.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-stringColor' href='./../Overviews/Methods.html#stringColor'>stringColor</a></h3>
<div class='method'>
<p> The default color of the entire text. This color applies to any text to which a color has not been applied using <a href="#-setStringColor">-setStringColor</a>.<div class='note'><span class='notelabel'>NOTE:</span> Calling <code>stringColor_</code> does <em>not</em> affect the cursor's color. Setting a dark background, using <code>background_</code>, and a light text color will leave the cursor as a dark color. It is recommended to set the background and string colors by setting the TextView's palette to an instance of <a href="./../Classes/QPalette.html">QPalette</a>.<div class='codeMirrorContainer'><textarea class='editor'>(
t = TextView(nil, Rect(800, 50, 500, 400))
.string_("Some text")
.palette_(QPalette.dark)  // set all colors here
.front;
)</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>
</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-tabWidth' href='./../Overviews/Methods.html#tabWidth'>tabWidth</a></h3>
<div class='method'>
<p> The width of tab characters as they are displayed.</div><h3><a class='anchor' name='Interaction'>Interaction</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-editable' href='./../Overviews/Methods.html#editable'>editable</a></h3>
<div class='method'>
<p> Whether the contents of the view are editable, i.e. the text can be typed in and deleted by the user.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-enterInterpretsSelection' href='./../Overviews/Methods.html#enterInterpretsSelection'>enterInterpretsSelection</a></h3>
<div class='method'>
<p> Whether the selection will be interpreted and invoked as SuperCollider code when Ctrl/Cmd/Shift + Enter key combination is pressed.
<p> Defaults to <code>false</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-usesTabToFocusNextView' href='./../Overviews/Methods.html#usesTabToFocusNextView'>usesTabToFocusNextView</a></h3>
<div class='method'>
<p> Whether the tab key will - instead of inserting a tab character into the text - switch focus to the next view (as usual for other views).
<p> Defaults to <code>false</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-hasHorizontalScroller' href='./../Overviews/Methods.html#hasHorizontalScroller'>hasHorizontalScroller</a></h3>
<div class='method'>
<p> Whether the horizontal scroller is shown.
<p> Note that if <a href="#-autohidesScrollers">-autohidesScrollers</a> is <code>true</code> the scroller may be hidden despite this variable being set to <code>true</code>. Since the TextView typically wraps text into the next line when a line reaches the edge of the view, the horizontal scroller may never be shown, unless <a href="#-autohidesScrollers">-autohidesScrollers</a> is <code>false</code>.
<p> Defaults to <code>true</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-hasVerticalScroller' href='./../Overviews/Methods.html#hasVerticalScroller'>hasVerticalScroller</a></h3>
<div class='method'>
<p> Whether the vertical scroller is shown.
<p> Note that if <a href="#-autohidesScrollers">-autohidesScrollers</a> is <code>true</code> the scroller may be hidden despite this variable being set to <code>true</code>.
<p> Defaults to <code>true</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A Boolean.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-autohidesScrollers' href='./../Overviews/Methods.html#autohidesScrollers'>autohidesScrollers</a></h3>
<div class='method'>
<p> Whether each of the scrollers will be automatically hidden if there is no use for it, i.e. the content is not scrollable in the direction of the scroller.
<p> If <a href="#-hasHorizontalScroller">-hasHorizontalScroller</a> or <a href="#-hasVerticalScroller">-hasVerticalScroller</a> is <code>false</code>, the respective scroller will always be hidden, regardless of this variable.
<p> Defaults to <code>true</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'><td class='argumentdesc'>
<p> A Boolean.</table></div><h3><a class='anchor' name='Drag%20and%20Drop'>Drag and Drop</a></h3>
<div class='note'><span class='notelabel'>NOTE:</span> Default drag-and-drop behavior of TextView is not defined in standard SC methods, but in the view implementation instead (except for <a href="#-defaultGetDrag">-defaultGetDrag</a>). It may or may not be overridable by adding your own handlers (see <a href="./../Classes/View.html#Drag%20and%20drop">View: Drag and drop</a>), depending on the GUI kit in use.</div>
<p>Dragging from TextView will give the selected text in a String as drag data, while dropping will accept any object and insert it <a href="./../Classes/Object.html#-asString">as String</a> at the drop location.
<p>You can also drag files from outside SuperCollider onto a TextView, and it will insert their URLs at the drop location.<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-defaultGetDrag' href='./../Overviews/Methods.html#defaultGetDrag'>defaultGetDrag</a></h3>
<div class='method'>
<p><h4>Returns:</h4>
<div class='returnvalue'>
<p>The <a href="#-selectedString">-selectedString</a>.</div></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<div class='codeMirrorContainer'><textarea class='editor'>(
w = Window.new("Text View Example", Rect(100, Window.screenBounds.height-400, 520, 300)).front;
t = TextView(w.asView, Rect(10, 10, 500, 200))
    .focus(true);
)

// Using the Window you just created, try these in succession, and test how the text view responds
t.mouseUpAction_{ |it, x, y, modifiers, buttonNumber| [x, y].postln };
t.autohidesScrollers_(false);
t.hasVerticalScroller_(false);
t.hasVerticalScroller_(true);
t.hasHorizontalScroller_(false);
t.hasHorizontalScroller_(true);
t.autohidesScrollers_(true);

t.open("Help/GUI/Main-GUI/Button.html"); // load an html file

// selective editing and formatting
t.setStringColor (Color.red, 5, 5);
t.setFont (Font("Courier", 12), 5, 10);
t.setString ("\nA replacement String\n", 12, 6);

// compare with these methods, which change everything
t.font_(Font("Courier", 14));
t.stringColor_(Color.blue);</textarea>
<button class='copy-button' aria-label='Copy code'><span class='copy-ico'>⧉</span><span class='check-ico'>✔</span></button></div>

<p><div class='doclink'>helpfile source: <a href='https://github.com/supercollider/supercollider/tree/3.14/HelpSource/Classes/TextView.schelp'>https://github.com/supercollider/supercollider/tree/3.14/HelpSource/Classes/TextView.schelp</a><br>link::Classes/TextView::<br></div></div><script src='./../static/editor.js' type='text/javascript'></script>
</body></html>